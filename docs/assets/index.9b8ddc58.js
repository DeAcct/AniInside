import{g as p,a as S}from"./vendor.6005cee6.js";const E=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}};E();customElements.define("day-selector-button",class extends HTMLElement{constructor(){super();let o=document.getElementById("day-selector-btn").content;this.attachShadow({mode:"open"}).appendChild(o.cloneNode(!0))}});const b=(r,o)=>{const t=document.createElement("day-selector-button");return t.setAttribute("aria-selected",!1),t.setAttribute("role","tab"),t.appendChild(document.createTextNode(o)),r.appendChild(t),t};customElements.define("labelled-toggle",class extends HTMLElement{constructor(){super();let o=document.getElementById("labelled-toggle").content;this.attachShadow({mode:"open"}).appendChild(o.cloneNode(!0))}});const q=(r,o)=>{const t=document.createElement("labelled-toggle");return t.appendChild(document.createTextNode(o)),r.appendChild(t),t};customElements.define("anime-card",class extends HTMLElement{constructor(){super();let o=document.getElementById("anime-card").content;this.attachShadow({mode:"open"}).appendChild(o.cloneNode(!0))}});const C=document.querySelector(".main"),i=document.querySelector(".day-selector"),A=document.querySelector(".partial"),L=document.querySelector(".fixed-area .top");q(L,"\uB2E4\uD06C \uBAA8\uB4DC");const y=[{request:"sunday",day:"\uC77C"},{request:"monday",day:"\uC6D4"},{request:"tuesday",day:"\uD654"},{request:"wednesday",day:"\uC218"},{request:"thursday",day:"\uBAA9"},{request:"friday",day:"\uAE08"},{request:"saturday",day:"\uD1A0"}],h=new Date,f=h.getDay(),N=()=>{switch(h.getMonth()+1){case 1:case 2:case 3:return"1";case 4:case 5:case 6:return"2";case 7:case 8:case 9:return"3";default:return"4"}};A.textContent=`${N()}\uBD84\uAE30`;const x=async()=>{try{const r=await S.get("https://api.jikan.moe/v3/schedule");return localStorage.setItem("response",JSON.stringify(r.data)),r.data}catch(r){console.error(r)}};x().then(r=>{const o=JSON.parse(localStorage.getItem("response"));console.log(o);let t=o||r,s;y.forEach((n,a)=>{b(i,n.day).addEventListener("click",c=>{scroll({top:0}),i.querySelectorAll("day-selector-button").forEach(d=>{d.setAttribute("aria-selected",!1),d.classList.remove("selected"),d.blur()}),c.currentTarget.setAttribute("aria-selected",!0),c.currentTarget.classList.add("selected"),s!==c.currentTarget&&(g(t,a),s=c.currentTarget)})});const e=i.querySelectorAll("day-selector-button")[f];e.classList.add("selected"),e.setAttribute("aria-selected",!0),g(t,f)});const g=(r,o)=>{let t=document.querySelector(".day-section");t&&p.to(t,{y:10,opacity:0,duration:.15,ease:"expo.inOut",onComplete:()=>{t.remove(),t=document.querySelector(".day-section"),p.from(t,{y:-10,opacity:0,ease:"expo.inOut"})}});const s=y[o],e=document.createElement("section");e.className="day-section";const n=document.createElement("div");n.className="card-wrap",r[s.request].forEach(a=>{const l=document.createElement("anime-card"),c=a.image_url,u=a.title,d=a.url,m=l.shadowRoot.querySelector("img");m.setAttribute("src",c),m.setAttribute("alt",`${u} \uC378\uB124\uC77C`),l.shadowRoot.querySelector("a").setAttribute("href",d),l.appendChild(document.createTextNode(u)),n.appendChild(l),e.appendChild(n)}),C.appendChild(e)};
